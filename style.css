/* Layout & header */
:root{--bg:#f8f9fb;--card:#fff;--ink:#222;--muted:#68707d;--accent:#0a84ff;--chip:#eef2f7;--good:#0fb67a}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

header{position:sticky;top:0;background:var(--bg);border-bottom:1px solid #e6e9ef;z-index:20}
.titlebar{display:flex;align-items:center;gap:10px;padding:10px 12px}
h1{margin:0;font-size:20px}
.badge{background:#fff;border:1px solid #dbe2ea;border-radius:14px;padding:4px 8px;font-size:12px;color:#333}
.actions{margin-left:auto;display:flex;gap:8px}
.actions .primary{background:var(--accent);color:#fff;border:1px solid var(--accent);border-radius:12px;padding:8px 12px}
.actions .ghost{background:#fff;color:#222;border:1px solid #dbe2ea;border-radius:12px;padding:8px 12px}

main{padding:10px}
.view{display:none}
.view.active{display:block}

.content-split{display:grid;grid-template-columns:1fr 1fr;gap:10px}
#map{height:68vh;border:1px solid #e1e4ea;border-radius:12px;overflow:hidden;z-index:1}
.scroll-list{height:68vh;overflow:auto;background:var(--card);border:1px solid #e1e4ea;border-radius:12px;padding:6px;z-index:2;position:relative}

.controls{display:flex;gap:8px;margin-bottom:8px}
.controls button{width:44px;height:36px;border-radius:8px;border:1px solid #d9dfe7;background:#fff}

.pool-item{display:flex;align-items:center;gap:10px;padding:10px;border-bottom:1px dashed #eceff4}
.pool-item:last-child{border-bottom:none}
.pool-name{font-weight:600}
.coords{color:var(--muted);font-size:12px}
.row-selected{background:#f0f6ff}

.stamp-chip{margin-left:auto;border:1px dashed #c7d1dd;background:var(--chip);padding:6px 10px;border-radius:12px;font-size:12px;cursor:pointer}
.stamped{background:#e9fbf3;border-color:#b6efd6;color:#128557}
.stamp-chip:focus{outline:2px solid #0a84ff}

.passport-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px}
.passport{position:relative;background:#fff;border:2px solid #d7d1b3;border-radius:10px;padding:16px;min-height:140px;box-shadow: inset 0 0 0 2px #efe8c7}
.passport .title{font-weight:700;margin-bottom:8px}
.stamp{position:absolute;right:8px;bottom:8px;opacity:.9;transform:rotate(-10deg) scale(.9)}
.stamp img{width:90px;height:90px}
.stamp .label{position:absolute;left:50%;top:55%;transform:translate(-50%,-50%) rotate(-10deg);font-weight:800;font-size:11px;text-align:center;max-width:76px}

.hint{color:#68707d}

@media (max-width: 860px){
  .content-split{grid-template-columns:1fr}
  #map,.scroll-list{height:55vh}
}
